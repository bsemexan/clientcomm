<% include header-base %>

<% function formatDate(date) { %>
<%   var d = new Date(date); %>
<%   var month = '' + (d.getMonth() + 1); %>
<%   var day = '' + Number(d.getDate() + 1); %>
<%   var year = d.getFullYear(); %>
<%   if (month.length < 2) month = '0' + month; %>
<%   if (day.length < 2) day = '0' + day; %>
<%   return [year, month, day].join('-'); %>
<% } %>

<div class="contents">
<div class="card">

	<a href="/cms/<%= user.cmid %>/cls/<%= client.clid %>"><% include card-exit %></a>

	<div class="card-title">
		Edit Client Attributes
	</div>

	<form method="post">

		<input type="hidden" name="cmid" value="<%= client.cm %>">
		<input type="hidden" name="clid" value="<%= client.clid %>">

		<div class="form-row">
			<div class="form-label"> First </div>
			<input class="form-input" type="text" name="first" value="<%= client.first %>" required>
		</div>

		<div class="form-row">
			<div class="form-label"> Middle </div>
			<input class="form-input" type="text" name="middle" value="<%= client.middle %>" required>
		</div>

		<div class="form-row">
			<div class="form-label"> Last </div>
			<input class="form-input" type="text" name="last" value="<%= client.last %>" required>
		</div>

		<div class="form-row">
			<div class="form-label"> Date of Birth <small>(YYYY-MM-DD)</small> <span class="opt">optional</span> </div>
			<% var defaultbday = formatDate(client.dob); %>
			<input class="form-input" type="date" name="dob" value="<%= defaultbday %>">
		</div>

		<div class="form-row">
			<div class="form-label"> Sheriff's Number (SO#) <span class="opt">optional</span> </div>
			<input class="form-input" type="text" name="so" value="<%= client.so %>">
		</div>

		<div class="form-row">
			<div class="form-label"> Offender Tracking Number (OTN) <span class="opt">optional</span> </div>
			<input class="form-input" type="text" name="otn" value="<%= client.otn %>">
		</div>

		<input type="submit" class="form-submit" value="Update">

	</form>

</div>
</div>


<% include footer %>
